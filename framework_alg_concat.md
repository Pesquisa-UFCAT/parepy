---
layout: home
parent: algorithms
grand_parent: Framework
nav_order: 2
has_children: false
has_toc: false
title: concatenates_txt_files_sampling_algorithm_structural_analysis
---

<!--Don't delete ths script-->
<script src = "https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id = "MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<!--Don't delete ths script-->

<p align="justify">
    Concatenates .txt files generated by the sampling_algorithm_structural_analysis algorithm, and calculates probabilities of failure and reliability indexes based on the data.
</p>

```python
results_about_data, failure_prob_list, beta_list = concatenates_txt_files_sampling_algorithm_structural_analysis(setup)
```

Input variables
{: .label .label-yellow }

<table style="width:100%">
    <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Type</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>setup</code></td>
            <td>
                <p align="justify">
                Dictionary containing the main settings. Keys include:
                <ul>
                    <li><code>'folder path'</code>: Path to the folder containing the .txt files [String]</li>
                    <br>
                    <li><code>'number of state limit functions or constraints'</code>: Number of state limit functions or constraints [Integer]</li>
                    <br>
                    <li><code>'simulation name'</code>: Name of the simulation [String]</li>
                </ul>
                </p>
            </td>
            <td>Dictionary</td>
        </tr>
    </tbody>
</table>


Output variables
{: .label .label-yellow }

<table style="width:100%">
   <thead>
     <tr>
       <th>Name</th>
       <th>Description</th>
       <th>Type</th>
     </tr>
   </thead>
   <tr>
       <td><code>results_about_data</code></td>
       <td>A DataFrame containing the concatenated results from the .txt files.</td>
       <td>DataFrame</td>
   </tr>
   <tr>
       <td><code>failure_prob_list</code></td>
       <td>A list containing the calculated failure probabilities for each indicator function.</td>
       <td>List</td>
   </tr>
   <tr>
       <td><code>beta_list</code></td>
       <td>A list containing the calculated reliability indices (beta) for each indicator function.</td>
       <td>List</td>
   </tr>
</table>

<p align="justify">
    Here's an example of how to organize the directory structure with the input files. See following:
</p>

```bash
└── concat.ipynb # or concat.py
└── results_path
    └── result_sampling_algorithm_structural_analysis_0.txt
    └── result_sampling_algorithm_structural_analysis_1.txt
    └── result_sampling_algorithm_structural_analysis_2.txt
    ...
    └── result_sampling_algorithm_structural_analysis_n-1.txt
    └── result_sampling_algorithm_structural_analysis_n.txt
```

Example 1
{: .label .label-blue }

<p align="justify">
    <i>This example demonstrates how the <code>concatenates_txt_files_sampling_algorithm_structural_analysis</code> function processes a folder containing .txt files.</i>
</p>

```python
# Libraries
import os
import pandas as pd
from tabulate import tabulate

from parepy_toolbox import concatenates_txt_files_sampling_algorithm_structural_analysis

# Run algorithm
setup = {
            'folder_path': 'results_path', 
            'number of state limit functions or constraints': 1,
            'numerical model': {'model sampling': 'mcs-time'},
            'name simulation': 'new_simulation_results'  
        }

results_about_data, failure_prob_list, beta_list = concatenates_txt_files_sampling_algorithm_structural_analysis(setup)

print(f'pf:\n{tabulate(failure_prob_list, headers="keys", tablefmt="pretty", showindex=False)}')
print(f'ϐ:\n{tabulate(beta_list, headers="keys", tablefmt="pretty", showindex=False)}')
```

<p align = "justify">
    <i>Output details.</i>
</p>

```bash
13:10:54 - Uploading files!
13:10:59 - Finished Upload in 4.43e+00 seconds!
13:10:59 - Started evaluation beta reliability index and failure probability...
13:10:59 - Finished evaluation beta reliability index and failure probability in 1.99e-02 seconds!
13:11:14 - Voilà!!!!....simulation results saved in simulation_results_MCS-TIME_20240910-131059.txt
pf:
+-----------------------+
|          G_0          |
+-----------------------+
| 0.0018821428571428572 |
| 0.0025428571428571427 |
|        0.0031         |
| 0.0036321428571428572 |
| 0.003939285714285715  |
+-----------------------+
ϐ:
+--------------------+
|        G_0         |
+--------------------+
| 2.8972675555698797 |
| 2.8015539115836514 |
| 2.7370121664846363 |
| 2.684479412315009  |
| 2.6572298171875497 |
+--------------------+
```

{: .important }
>The function expects to find multiple `.txt` files in the `folder_path` directory. Ensure that the file format follows the described structure, with columns separated by tabs (`\t`) and necessary columns (`X_`, `G_`, `I_`). This format ensures that the function can correctly concatenate the data and perform the expected calculations.